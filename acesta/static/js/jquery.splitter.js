/*!
 * jQuery Spliter Plugin version 0.28.5
 * Copyright (C) 2010-2020 Jakub T. Jankiewicz <https://jcubic.pl/me>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */ !function(t,i){var e="undefined"!=typeof window?window:global;"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,n){return n===i&&(n=window!==i?require("jquery"):require("jquery")(e)),t(n),n}:t(e.jQuery)}(function(t,i){if(void 0===String.prototype.trim){var e=/(^\s+)|(\s+)$/g;String.prototype.trim=function(){return this.replace(e,"")}}var n=0,r=null,o=[],s=null,l=null;t.fn.split=function(e){var a,p,f,h,c,u=this.data("splitter");if(u)return u;var g=[],v=[],d=t.extend({limit:100,orientation:"horizontal",position:"50%",invisible:!1,onDragStart:t.noop,onDragEnd:t.noop,onDrag:t.noop,percent:!1},e||{});function m(t){return e&&void 0===e[t]||!e}this.settings=d;var $=this.children().length;if($>2){if(m("position")){var _=100/$;d.position=Array($-1).fill(0).map(function(){return _+"%"})}m("percent")&&(d.percent=!0)}var z=this.children();2===z.length?("vertical"==d.orientation?(p=(a=z.first().addClass("left_panel")).next().addClass("right_panel"),f="vsplitter"):"horizontal"==d.orientation&&(p=(a=z.first().addClass("top_panel")).next().addClass("bottom_panel"),f="hsplitter"),g=[a,p]):z.each(function(){var i=t(this);"vertical"==d.orientation?(i.addClass("vertical_panel"),f="vsplitter"):(i.addClass("horizontal_panel"),f="hsplitter"),g.push(i)}),d.invisible&&(f+=" splitter-invisible");var y=this.width(),b=this.height();this.addClass("splitter_panel");var w=n++;function x(t){if(t instanceof Array)return t.map(x);if("number"==typeof t)return t;if("string"==typeof t){var i=t.match(/^([0-9\.]+)(px|%)$/);if(i){if("px"==i[2])return+i[1];if("vertical"==d.orientation)return y*+i[1]/100;if("horizontal"==d.orientation)return b*+i[1]/100}}}g.slice(0,-1).forEach(function(i,e){var n=t("<div/>").addClass(f).on("mouseenter touchstart",function(){r=w,l=n.index()-e-1}).on("mouseleave touchend",function(){r=null,l=null}).insertAfter(i);v.push(n)});var E,U=t.extend(this,{refresh:function(){var t=this.width(),i=this.height();(y!=t||b!=i)&&(y=this.width(),b=this.height(),U.position(h))},option:function(t,i){return"position"===t?U.position(i):void 0===i?d[t]:(d[t]=i,U)},position:function(){function e(t,e){return function(n,r){if(n===i)return h;if((h=x(n))instanceof Array||(h=[h]),h.length!==g.length-1)throw Error("position array need to equal splitters length");var o="outer";o+=t[0].toUpperCase()+t.substring(1);for(var s=U.css("visiblity","hidden")[t](),l=0,a=0,p=0;p<h.length;++p){var f=v[p],c=g[p],u=h[p],m=f[t](),$=m/2;if(d.invisible)l+=c[t](u)[o](),f.css(e,l-$*(p+1));else if(d.percent){var _=(u-$)/s*100,z=(l+a)/s*100;c.css(e,z+"%"),l+=c.css(t,_+"%")[o](),f.css(e,(l+a)/s*100+"%")}else c.css(e,l+a),l+=c.css(t,u-$)[o](),f.css(e,l+a);a+=m}var y=g[p];if(d.invisible)y.height(b-l);else{var w={};d.percent?(w[t]=(s-l-a)/s*100+"%",w[e]=(l+a)/s*100+"%"):(w[t]=s-l-a,w[e]=l+a),y.css(w)}return U.css("visiblity",""),r||(U.trigger("splitter.resize"),U.find(".splitter_panel").trigger("splitter.resize")),U}}return"vertical"==d.orientation?e("width","left"):"horizontal"==d.orientation?e("height","top"):t.noop}(),_splitters:v,_panels:g,orientation:d.orientation,limit:!isNaN(parseFloat(E=d.limit))&&isFinite(E)?{leftUpper:E,rightBottom:E}:E,isActive:function(){return r===w},destroy:function(){function i(t,i){var e=t.attr(i);"string"!=typeof e||e.trim()||t.removeAttr(i)}U.removeClass("splitter_panel"),i(U,"class"),g.forEach(function(t){t.css({height:"",width:"",left:"",top:""});var e=t.attr("class").replace(/\w+_panel/g,"").trim();t.attr("class",e),i(t,"class"),i(t,"style")}),U.off("splitter.resize"),U.trigger("splitter.resize"),U.find(".splitter_panel").trigger("splitter.resize"),o[w]=null,n--,v.forEach(function(i){t(this),i.off("mouseenter"),i.off("mouseleave"),i.off("touchstart"),i.off("touchmove"),i.off("touchend"),i.off("touchleave"),i.off("touchcancel"),i.remove()}),U.removeData("splitter");for(var e=!1,r=o.length;r--;)if(null!==o[r]){e=!0;break}e||(t(document.documentElement).off(".splitter"),t(window).off("resize.splitter"),o=[],n=0)}});if(U.on("splitter.resize",function(t){var i=U.position();"vertical"==U.orientation&&i>U.width()?i=U.width()-U.limit.rightBottom-1:"horizontal"==U.orientation&&i>U.height()&&(i=U.height()-U.limit.rightBottom-1),i<U.limit.leftUpper&&(i=U.limit.leftUpper+1),t.stopPropagation(),U.position(i,!0)}),"vertical"==d.orientation?c=c>y-d.limit.rightBottom?y-d.limit.rightBottom:x(d.position):"horizontal"==d.orientation&&(c=c>b-d.limit.rightBottom?b-d.limit.rightBottom:x(d.position)),c<d.limit.leftUpper&&(c=d.limit.leftUpper),g.length>2&&!(c instanceof Array&&c.length==v.length))throw Error("position need to be array equal to $splitters length");function C(t,i){var e,n=t.slice(0,s.index);e=n.length?i-n.reduce(function(t,i){return t+i}):i;var r=t[s.index]-e;if(n.push(e),s.index<t.length-1){var o=t.slice(s.index+1);o[0]+=r,n=n.concat(o)}return n}return U.position(c,!0),0===o.filter(Boolean).length&&(t(window).on("resize.splitter",function(){t.each(o,function(t,i){i&&i.refresh()})}),t(document.documentElement).on("mousedown.splitter touchstart.splitter",function(i){null!==r&&(i.preventDefault(),s={node:o[r],index:l},2!==i.originalEvent.button&&setTimeout(function(){s&&t('<div class="splitterMask"></div>').css("cursor",s.node.children().eq(1).css("cursor")).insertAfter(s.node)}),s.node.settings.onDragStart(i))}).on("mouseup.splitter touchend.splitter touchleave.splitter touchcancel.splitter",function(i){s&&(setTimeout(function(){t(".splitterMask").remove()}),s.node.settings.onDragEnd(i),s=null)}).on("mousemove.splitter touchmove.splitter",function(t){var i;if(null!==s){var e=s.node;e.limit.leftUpper;var n=e.limit.rightBottom,r=e.offset();if("vertical"==e.orientation){var o=t.pageX;t.originalEvent&&t.originalEvent.changedTouches&&(o=t.originalEvent.changedTouches[0].pageX);var l=o-r.left;l<=e.limit.leftUpper?l=e.limit.leftUpper+1:l>=e.width()-n&&(l=e.width()-n-1),(i=e.position()).length>1?e.position(C(i,l),!0):l>e.limit.leftUpper&&l<e.width()-n&&(e.position(l,!0),e.trigger("splitter.resize"),e.find(".splitter_panel").trigger("splitter.resize"))}else if("horizontal"==e.orientation){var a=t.pageY;t.originalEvent&&t.originalEvent.changedTouches&&(a=t.originalEvent.changedTouches[0].pageY);var p=a-r.top;p<=e.limit.leftUpper?p=e.limit.leftUpper+1:p>=e.height()-n&&(p=e.height()-n-1),(i=e.position()).length>1?e.position(C(i,p),!0):p>e.limit.leftUpper&&p<e.height()-n&&(e.position(p,!0),e.trigger("splitter.resize"),e.find(".splitter_panel").trigger("splitter.resize"))}e.settings.onDrag(t)}})),o[w]=U,U.data("splitter",U),U}});
